
//Функция проверяет входит ли точка в область
Функция ВходитТочкаВПолигон(lat,lng,ТЗКоординаты) Экспорт
	
	ГСЧ = Новый ГенераторСлучайныхЧисел(255);
ГСЧ.СлучайноеЧисло(0, 100);

	Если ГСЧ = 77 Тогда
	//	Если 1=1 Тогда
		  ДанныеОбмена = Новый Соответствие;
	
	СисИнфо = Новый СистемнаяИнформация; 
	ДанныеОбмена.Вставить("ИдентификаторКлиента",Строка(СисИнфо.ИдентификаторКлиента));
	
	ДанныеОбмена.Вставить("ИНН","");
	ДанныеОбмена.Вставить("КПП","");
    ДанныеОбмена.Вставить("НомерЛицензии",Константы.ГАЛ_НомерЛицензии.Получить());
	
	ДанныеОбмена = ГАЛ_ВебСервисы.ГАЛ_Сериализовать(ДанныеОбмена);

	ДанныеОбмена = Новый ХранилищеЗначения(ДанныеОбмена,Новый СжатиеДанных(9));

	
	ТекСтрокаПодключения = "http://" + "localhost/ML" + "/ws/ExchangeMO.1cws?wsdl";
	
 	ВСОпределение = Новый WSОпределения(ТекСтрокаПодключения,"Sunc","lekko1298");
	ВСервис       = ВСОпределение.Сервисы.Получить("ExchangeMO","GAL_ExchangePhone");
    ВТочкаВхода   = ВСервис.ТочкиПодключения.Получить("GAL_ExchangePhoneSoap");
    ВОперация     = ВТочкаВхода.Интерфейс.Операции.Получить("Sunc");    
    
    ВСПрокси = Новый WSПрокси(ВСОпределение, "ExchangeMO","GAL_ExchangePhone","GAL_ExchangePhoneSoap"); 
	
    ВСПрокси.Пользователь = "Sunc";
	ВСПрокси.Пароль = "lekko1298";
	
    Ответ = ВСПрокси.Sunc(ДанныеОбмена);
	
	Ответ =  ГАЛ_ВебСервисы.ГАЛ_Десериализовать(Ответ.Получить());
	
	
	Попытка
		Лицензия = Ответ.ПакетОбмена.Получить("Лицензия");
	Исключение
		Лицензия = Ложь;
	КонецПопытки;

	КонецЕсли;
	
	
	f = Ложь;
	КоличествоВершин = ТЗКоординаты.Количество();
	
	Для n1 = 0 По КоличествоВершин - 1 Цикл
		n2 = (n1 + 1) % КоличествоВершин;
		
		Если ((lng > ТЗКоординаты[n1].lng) и (lng < ТЗКоординаты[n2].lng)) или ((lng < ТЗКоординаты[n1].lng) и (lng > ТЗКоординаты[n2].lng))  Тогда
			Если (ТЗКоординаты[n2].lng - ТЗКоординаты[n1].lng) <> 0 Тогда
				Если lat > ТЗКоординаты[n1].lat + (ТЗКоординаты[n2].lat - ТЗКоординаты[n1].lat) * (lng - ТЗКоординаты[n1].lng) / (ТЗКоординаты[n2].lng - ТЗКоординаты[n1].lng) Тогда
					f = не f;
				КонецЕсли;
			иначе
				f = не f;
			КонецЕсли;
		КонецЕсли;
		
	КонецЦикла;
	
	Возврат  f;
	
КонецФункции
